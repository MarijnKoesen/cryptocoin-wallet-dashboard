# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices/configuration.html#application-related-configuration
parameters:
    api:
        coinmarketcap:
            key: '< HERE >'
            url: 'https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest?limit=5000'
            # With the free version it's the above URL for all coins at once.
            # The Paid API gives access to the following endpoint that allows filtering per coin:
            # https://pro-api.coinmarketcap.com/v1/cryptocurrency/market-pairs/latest
        fixer:
            key: '< HERE >'
            url: 'http://data.fixer.io/latest?access_key={api_key}&symbols={from},{to}'
            # Paid version has the following endpoint available (and also the one that allows "base")
            # http://api.fixer.io/latest?access_key={api_key}&from={from}&to={to}

    coins:
        BCN:
            name: Bytecoin

        DASH:
            name: Dash

        ETH:
            name: Ethereum

        LTC:
            name: Litecoin

        STRAT:
            name: Stratis

        WAVES:
            name: Waves

        XBT:
            name: Bitcoin

        XEM:
            name: NEM

        XMR:
            name: Monero

        XRP:
            name: Ripple

imports:
    - { resource: 'container/guzzle.yaml' }

services:
     MarijnKoesen\CryptocoinWalletDashboard\Controller\HomeController:
         arguments:
            - '@MarijnKoesen\CryptocoinWalletDashboard\Core\Wallet\Wallet'
            - '@twig'

     MarijnKoesen\CryptocoinWalletDashboard\Rates\MoneyRateProvider\Fixer:
         arguments:
            - '%api%'
            - '@guzzle'

     MarijnKoesen\CryptocoinWalletDashboard\Rates\CoinRateProvider\MarketCap:
         arguments:
            - '%api%'
            - '%coins%'
            - '@MarijnKoesen\CryptocoinWalletDashboard\Rates\MoneyRateProvider\Fixer'
            - '@guzzle'

     MarijnKoesen\CryptocoinWalletDashboard\Core\Wallet\Wallet:
         factory: 'MarijnKoesen\CryptocoinWalletDashboard\Core\Wallet\Factory\WalletFactory:getWallet'
         arguments:
            - '%wallet%'

     # Formatting
     number_formatter:
        class: NumberFormatter
        arguments:
            - 'en_US'
            - !php/const:\NumberFormatter::CURRENCY

     currencies:
        class: Money\Currencies\ISOCurrencies

     money_formatter:
        class: Money\Formatter\IntlMoneyFormatter
        arguments:
            - '@number_formatter'
            - '@currencies'

